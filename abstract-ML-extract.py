from transformers import BartForConditionalGeneration, BartTokenizer, BartConfig

def calc_min(article_length):
    length = article_length // 4
    return length

def get_summary(text):
    length = calc_min(len(text))
    
    tokenizer=BartTokenizer.from_pretrained('facebook/bart-large-cnn') #getting pretrained BART tokenizer
    model=BartForConditionalGeneration.from_pretrained('facebook/bart-large-cnn') #getting pretrained BART model

    # Encoding the inputs and passing them to model.generate()
    inputs = tokenizer.batch_encode_plus([text], return_tensors='pt', max_length=None, truncation=True) 
    summary_ids = model.generate(inputs['input_ids'], min_length = 800)

    # Decoding and printing the summary
    bart_summary = tokenizer.decode(summary_ids[0], skip_special_tokens=True)
    print(bart_summary)

if __name__ == "__main__":
    text = 'Red Bull’s Dutch driver is engaged in a fierce battle with Lewis Hamilton and says: ‘I knew if I had a car capable of fighting for the title I would be up there’ Last modified on Fri 2 Jul 2021 23.57 BST As shafts of sunlight break through the roiling clouds ringing the Styrian mountains, they offer only shadow play set against Max Verstappen’s bright exuberance. Since he was a child all Verstappen has wanted to do is fight for the Formula One world championship. Right now, he is not only in that fight but on top, leading the defending champion, Lewis Hamilton. On the eve of the Austrian Grand Prix Max feels good. It’s clear he knew that he would. On top of his game, the 23-year-old is unafraid to speak his mind; the openness makes him stand out among drivers and is fundamental to his success with his Red Bull team.  “I am straight to the point, when I think it’s shit, it’s shit. When it’s good it’s good. That’s how I interact with the team,” he says with a gentle ease rather than the faint air of threat that so often accompanies such statements. “That’s what I say to the team: ‘You can say the same to me, when I am a dickhead you can tell me.’ When I fuck up, I fuck up. When I do good, I do good.” This honesty and self-analysis goes beyond the empty rhetoric of the vainglorious. It has been crucial to the relationship he has with his team which now sees him locked in an almighty tussle for his first F1 title. “I cannot always be super-polite and nice; that’s not how I work,” he explains. “You need to be hard on each other especially in tougher times or when you are not happy with certain things. It works both ways. They tell me, I tell them. You should be able to be criticised and take criticism.” Verstappen is in his seventh season in F1 having made his debut as its youngest driver, aged 17, in 2015. The slight, awkward teenager that climbed into a Toro Rosso has long departed. He has grown up in public and while his features still betray his youth, his confidence and authority is unmistakable. He is a man aware of the import of being in a title fight with the greatest driver of his generation, yet entirely unintimidated. What was considered arrogance by some in his youth is now calm, self-assurance. “I knew if I had a car capable of fighting for the title I would be up there and that is showing,” he says. “It’s a natural thing. I know what I have to do to be quick on a track. I don’t need to over think or stress out about a lot of things to be quick.” He proved it repeatedly even when in a car that was outpaced by Hamilton’s Mercedes. This season he is making it count when it matters. He has four wins to Hamilton’s three and leads him by 18 points in the world championship. Their nip-and-tuck fight has been gripping, the two in a class of their own at the front of the field, a two-handed play with the scripts being written as they go. Not that this comes as any surprise to his team. The Red Bull team principal, Christian Horner, has built the squad around Verstappen since he joined them in 2016 with an incendiary win on his debut in Spain. “You know when you put him in the car he is going to give you 110%, that’s what makes him so exciting to watch,” said Horner. “He is performing at a phenomenal level and has been for the last two or three seasons.” Red Bull’s faith in him had been rewarded from day one and that extraordinary win in Spain. “It was the most surreal thing,” said Horner. “He had never even sat in the car before the weekend. We just chucked him straight in and boom – first victory. It was mental, fairytale stuff.” What followed was often impossible to ignore as Verstappen learned his trade in public, taking no small amount of brickbats along the way. The old accusations that he was reckless and made too many mistakes are outdated now. As defined best perhaps in 2018 at Singapore where Verstappen played the percentages brilliantly, going wheel to wheel with Sebastian Vettel, then opting for discretion over valour and passing the German through the stops, before similarly declining the very faintest of chances against Hamilton late in the race. The “Mad Max” of his youth is gone. Verstappen acknowledges it is the seven-times champion who has proved what it takes win a title. “You cannot have retirements or make mistakes where you lose a lot of points, it can kill a championship,” he says. “I know that. Lewis has been like this for a long time, he has been very consistent and that is how you win championships.” Yet the hard-charging style is part of what makes Verstappen so fascinating. His move on Hamilton through turn one at Imola this year proved it has not been neutered, but refined. “If the gap is there I would definitely go for it, it’s just my style, elbows out basically,” he says. “But if you are in a championship fight you have to think about points every single race. It’s a balance.” He is giving Hamilton the toughest challenge the world champion has faced since 2014, the start of the turbo-hybrid regulations and since when Hamilton has taken six of his seven titles. The pair have said previously how much they would like to be in a proper fight with one another. Now they are, how is it between them? Lewis Hamilton and Max Verstappen shared the honours in practice on Friday at the Red Bull Ring before this weekend’s Austrian Grand Prix. The Dutchman was quickest in the morning but Hamilton was on top in the afternoon with his Mercedes showing better balance than it had at the same circuit in last weekend’s Styrian Grand Prix. Verstappen’s Red Bull team had already demonstrated great pace here last week, with the Dutchman winning and enjoying a 15-second lead over world champion Hamilton before the British driver made a late stop to go for the fastest lap. Hamilton finished second but was hopeful Mercedes might move closer to their rivals at the second attempt and early indications are they have improved. With Pirelli using their softest compounds of tyres this weekend, Verstappen was quickest in the morning, in front of the two Ferrari’s of Charles Leclerc and Carlos Sainz, with Hamilton in seventh. In the afternoon Hamilton had it hooked up. He was on top during the qualifying simulations from teammate Valtteri Bottas with Verstappen two-tenths back in third. Verstappen leads Hamilton by 18 points in the world championship with the race set to be the first to be held since the beginning of the pandemic with a full capacity crowd, approximately 60,000 on Sunday. Full Covid testing protocols are in place for all spectators, a huge number of whom have come from the Netherlands to support Verstappen. Giles Richards “Lewis and I have a really good understanding. We know we are in a title fight, he wants to go for his eighth title, I want to go for my first,” says Verstappen with a chuckle as he appreciates the gulf that is more than just the 13-year age gap between them. There is, as yet, none of the needle that would make an already engrossing contest a drama of operatic scale and as things stand Verstappen sees no reason for the pair to change the hard but fair racing that has defined the season. “People say when you are in a title fight you have to come together,” he says. “I don’t see that. I enjoy racing Lewis, we always give each other space, that’s what people like to see instead of making it a dirty game. It’s not necessary between us.” There is no sense this is spin, much as it might change when the tension ratchets up or the pair do clash on track. At Red Bull this is just the straightforward, young man they respect. “He is such a good kid,” one team member tells me. “From the outside people may not see that, everyone here likes him.” Red Bull have now won the last four races in a row, their best run since 2013 and with Verstappen’s dominant win here at the Red Bull Ring last weekend are in every position to do so again. Yet the Dutchman is taking nothing for granted. After a tyre blowout in Baku cost him an almost certain win, he was reduced to booting the guilty rubber in anger after he climbed from his stricken car. Yet he was ultimately pragmatic about the setback, as the drivers who become champions must be. “It was painful, really upsetting,” he says. “It shows you that in racing nothing is guaranteed until you cross the line. Life is unfair, it’s fine, it’s racing. You don’t want it to happen, especially a tyre blowout, but they do happen. You have to deal with it.” This is the mature, realist with a magic touch that is Hamilton’s heir apparent and has every chance to make a similar mark on the sport as the British driver. Verstappen first came to a race when he was three years old with his father Jos, then an F1 driver. The toddler thought the paddock was a fantastic playground. He has since made it his own and now destiny awaits. “When I was little, my goal was F1 and so far it has been pretty good, I can’t complain,” he says with a self-deprecating laugh. “This is what I have done my whole life, I can’t imagine myself doing anything else.”'
    get_summary(text)

#Work on fixing max_length